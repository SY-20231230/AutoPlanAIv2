/* ===============================
   MainHome.css — 헤더 근접/반응형/사이드폭 확장 버전
   =============================== */

/* rem·vw 기반 전역 변수 */
:root{
  --header-h: 3.5rem;                         /* ≈56px */
  --gap: clamp(0.5rem, 1vw, 1rem);            /* 8px~16px 사이 자동 */
  /* 좌/우 패널 폭을 화면에 따라 유연하게 */
  --left-w:  clamp(16rem, 18vw, 24rem);       /* ~384px */
  --right-w: clamp(20rem, 24vw, 30rem);       /* ~480px */
}

/* ===== 전역 폰트 ===== */
html, body{
  margin:0; padding:0;
  font-family:'Pretendard','Apple SD Gothic Neo','Malgun Gothic',sans-serif;
}

/* ===== 3열 그리드 ===== */
.main-grid{
  display:grid;
  grid-template-columns: var(--left-w) minmax(0,1fr) var(--right-w);
  gap: var(--gap);
  padding: var(--gap);
  /* ✅ 헤더에 더 가깝게: 여백 최소화 */
  padding-top: calc(var(--header-h) + 0.25rem);
  min-height: calc(100vh - var(--header-h));
  box-sizing:border-box;
}

/* 좌/우 레일을 헤더 바로 아래에 스티키 고정 */
.left-rail,
.right-rail{
  position:sticky;
  top: var(--header-h);
  /* 상하 패딩이 반영된 높이 계산 */
  height: calc(100vh - var(--header-h) - (var(--gap) * 2));
  overflow:auto;
  -webkit-overflow-scrolling: touch;
}

/* 가운데 영역 */
.center-pane{
  min-width:0;
  min-height: calc(100vh - var(--header-h) - (var(--gap) * 2));
  overflow:visible;
}

/* 가운데 내부 래퍼 */
.content-wrapper{ padding-top: .375rem; padding-bottom: 1.25rem; }
.content-inner{ max-width: 65rem; /* ≈1040px */ margin:0 auto; }
.content-body > * + *{ margin-top: .875rem; }

/* 글로벌 토스트 */
.global-toast{
  position:fixed; top:.6rem; left:50%; transform:translateX(-50%);
  background:#111827; color:#fff; padding:.625rem 1rem; border-radius:.625rem;
  box-shadow:0 6px 18px rgba(0,0,0,.2); z-index:1000;
}

/* ===== 반응형 ===== */
/* ① 1440px↓: 우측 폭 조금 줄여 중앙 가용폭 확보 */
@media (max-width: 90rem){            /* 1440px */
  :root{ --right-w: clamp(18rem, 22vw, 26rem); }
}

/* ② 1200px↓: 우측 패널 접기(모바일·노트북 공통 UX) */
@media (max-width: 75rem){            /* 1200px */
  .main-grid{ grid-template-columns: var(--left-w) 1fr; }
  .right-rail{ display:none; }
}

/* ③ 860px↓: 좌측 패널도 접고 1열로 */
@media (max-width: 53.75rem){         /* 860px */
  .main-grid{ grid-template-columns: 1fr; }
  .left-rail{ display:none; }
}

/* ===== 사이드바 ===== */
.sidebar{
  display:flex; flex-direction:column; gap:.5rem;
}
.sidebar-item{
  display:flex; align-items:center; gap:.5rem;
  padding:.5rem .75rem; border-radius:.5rem; cursor:pointer;
  color:#374151; font-size:.9rem;
}
.sidebar-item:hover{ background:#f3f4f6; }
.sidebar-item.active{ background:#e0f2fe; color:#0369a1; }

/* ===== AI 패널(챗봇) ===== */
.ai-panel{
  height:100%;
  background:#f9fafb;
  border-radius:.75rem;
  padding:1rem;
  box-sizing:border-box;
  overflow-y:auto;
}

/* ===== 공통 카드 ===== */
.app-card{
  background:#fff; border:1px solid #e5e7eb; border-radius:.75rem;
  padding:1.5rem; max-width:50rem; margin:0 auto; /* 800px */
}
.app-card-header{
  display:flex; align-items:center; gap:.5rem;
  margin-bottom:1rem; padding-bottom:.75rem; border-bottom:2px solid #f1f5f9;
}
.app-card-header-icon{ color:#2563eb; }
.app-card-title{ margin:0; font-size:1.05rem; font-weight:600; color:#1e293b; }

/* 버튼 */
.btn-outline{
  background:transparent; border:1px solid #cbd5e1;
  padding:.375rem .75rem; border-radius:.375rem; font-size:.85rem;
  cursor:pointer; display:inline-flex; align-items:center; gap:.25rem;
}
.btn-outline:hover{ background:#f1f5f9; }
.btn-primary{
  background:#2563eb; border:none; color:#fff;
  padding:.375rem .75rem; border-radius:.375rem; font-size:.85rem;
  cursor:pointer; display:inline-flex; align-items:center; gap:.25rem;
}
.btn-primary:hover{ background:#1e40af; }

/* 하단 플로우 푸터 */
.flow-footer{
  display:flex; justify-content:space-between; align-items:center;
  gap:.75rem; margin-top:1rem; padding-top:.75rem; border-top:1px solid #f1f5f9;
}
.flow-footer .left, .flow-footer .right{
  display:inline-flex; gap:.5rem; flex-wrap:wrap;
}